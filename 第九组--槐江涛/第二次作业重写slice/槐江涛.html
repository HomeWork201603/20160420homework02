<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>重写slice</title>
</head>
<body>
<script>
    Array.prototype.hjtSlice = function (n, m) {
        var num1 = Number(n), num2 = Number(m);
        num1 < 0 ?
                num1 = Math.ceil(num1) + this.length : num1 = Math.floor(num1);
        num2 < 0 ?
                num2 = Math.ceil(num2) + this.length : num2 = Math.floor(num2);
        var arr = [];
        if (n == undefined && m == undefined) {
            return this;
        } else if (n != undefined && m == undefined) {
            if (!isNaN(n)) {
                if (num1 > this.length) {
                    return [];
                } else if (num1 < 0) {
                    return this;
                }
                for (var i = num1, j = 0; i < this.length; i++, j++) {
                    arr[j] = this[i];
                }
            } else {
                return this;
            }
        } else {
            if (!isNaN(n) && !isNaN(m)) {
                if (num2 < num1 || (num1 < 0 && num2 < 0) || (num1 > this.length && num2 > this.length)) {
                    return [];
                } else if (num1 < 0 && m > this.length) {
                    return this;
                } else if (num1 < 0 && num2 > 0) {
                    for (var i = 0, j = 0; i < num2; i++, j++) {
                        arr[j] = this[i];
                    }
                } else if (num1 > 0 && num2 > this.length) {
                    for (var i = num1, j = 0; i < this.length; i++, j++) {
                        arr[j] = this[i];
                    }
                } else {
                    for (var i = num1, j = 0; i < num2; i++, j++) {
                        arr[j] = this[i];
                    }
                }
            } else if (!isNaN(n) && isNaN(m)) {
                return [];
            } else if (isNaN(n) && !isNaN(m)) {
                for (var i = 0, j = 0; i < num2; i++, j++) {
                    arr[j] = this[i];
                }
            } else {
                return [];
            }
        }
        return arr;
    }
    var ary = [1, 2, 3, 121, 5213, 5, 35, 64, 2, 8, 3, "1", {}, "aa", 45, 45, 6, 5];
    var res = ary.hjtSlice(1, 6);
    console.log(res);
</script>
</body>
</html>
